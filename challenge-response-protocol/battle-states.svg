<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.47.3 (0)
 -->
<!-- Title: ChallengeStates Pages: 1 -->
<svg width="1102pt" height="984pt"
 viewBox="0.00 0.00 1101.78 984.32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 980.32)">
<title>ChallengeStates</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-980.32 1097.78,-980.32 1097.78,4 -4,4"/>
<!-- Challenged -->
<g id="node1" class="node">
<title>Challenged</title>
<ellipse fill="none" stroke="black" cx="672.61" cy="-958.32" rx="113.18" ry="18"/>
<text text-anchor="middle" x="672.61" y="-954.62" font-family="Times,serif" font-size="14.00">Battle for claim starts</text>
</g>
<!-- QueryMerkleRootHashes -->
<g id="node2" class="node">
<title>QueryMerkleRootHashes</title>
<ellipse fill="none" stroke="black" cx="672.61" cy="-862.45" rx="224.31" ry="26.74"/>
<text text-anchor="middle" x="672.61" y="-866.25" font-family="Times,serif" font-size="14.00">The challenger asked for the block hashes</text>
<text text-anchor="middle" x="672.61" y="-851.25" font-family="Times,serif" font-size="14.00"> in the superblock</text>
</g>
<!-- Challenged&#45;&gt;QueryMerkleRootHashes -->
<g id="edge1" class="edge">
<title>Challenged&#45;&gt;QueryMerkleRootHashes</title>
<path fill="none" stroke="black" d="M672.61,-940.1C672.61,-928.8 672.61,-913.58 672.61,-899.69"/>
<polygon fill="black" stroke="black" points="676.11,-899.41 672.61,-889.41 669.11,-899.41 676.11,-899.41"/>
<text text-anchor="middle" x="771.11" y="-911.12" font-family="Times,serif" font-size="14.00">C: queryMerkleRootHashes</text>
</g>
<!-- RespondMerkleRootHashes -->
<g id="node3" class="node">
<title>RespondMerkleRootHashes</title>
<ellipse fill="none" stroke="black" cx="672.61" cy="-766.58" rx="208.76" ry="18"/>
<text text-anchor="middle" x="672.61" y="-762.88" font-family="Times,serif" font-size="14.00">The submitter responded the block hashes</text>
</g>
<!-- QueryMerkleRootHashes&#45;&gt;RespondMerkleRootHashes -->
<g id="edge2" class="edge">
<title>QueryMerkleRootHashes&#45;&gt;RespondMerkleRootHashes</title>
<path fill="none" stroke="black" d="M672.61,-835.55C672.61,-822.91 672.61,-807.71 672.61,-794.9"/>
<polygon fill="black" stroke="black" points="676.11,-794.8 672.61,-784.8 669.11,-794.8 676.11,-794.8"/>
<text text-anchor="middle" x="779.11" y="-806.38" font-family="Times,serif" font-size="14.00">S: respondMerkleRootHashes</text>
</g>
<!-- QueryBlockHeader -->
<g id="node6" class="node">
<title>QueryBlockHeader</title>
<ellipse fill="none" stroke="black" cx="672.61" cy="-679.58" rx="245.06" ry="18"/>
<text text-anchor="middle" x="672.61" y="-675.88" font-family="Times,serif" font-size="14.00">The challenger asked for a particular block header</text>
</g>
<!-- RespondMerkleRootHashes&#45;&gt;QueryBlockHeader -->
<g id="edge5" class="edge">
<title>RespondMerkleRootHashes&#45;&gt;QueryBlockHeader</title>
<path fill="none" stroke="black" d="M672.61,-748.37C672.61,-736.74 672.61,-721.12 672.61,-707.81"/>
<polygon fill="black" stroke="black" points="676.11,-707.75 672.61,-697.75 669.11,-707.75 676.11,-707.75"/>
<text text-anchor="middle" x="749.11" y="-719.38" font-family="Times,serif" font-size="14.00">C: queryBlockHeader</text>
</g>
<!-- VerifyScryptHash -->
<g id="node4" class="node">
<title>VerifyScryptHash</title>
<ellipse fill="none" stroke="black" cx="528.61" cy="-562.58" rx="208.76" ry="18"/>
<text text-anchor="middle" x="528.61" y="-558.88" font-family="Times,serif" font-size="14.00">The submitter responded the block header</text>
</g>
<!-- PendingVerification -->
<g id="node5" class="node">
<title>PendingVerification</title>
<ellipse fill="none" stroke="black" cx="249.61" cy="-243.71" rx="249.72" ry="26.74"/>
<text text-anchor="middle" x="249.61" y="-247.51" font-family="Times,serif" font-size="14.00">All block headers are valid</text>
<text text-anchor="middle" x="249.61" y="-232.51" font-family="Times,serif" font-size="14.00"> Final superblock integrity verification pending</text>
</g>
<!-- VerifyScryptHash&#45;&gt;PendingVerification -->
<g id="edge3" class="edge">
<title>VerifyScryptHash&#45;&gt;PendingVerification</title>
<path fill="none" stroke="black" d="M477.62,-545.04C428.11,-526.46 354.22,-491.62 310.61,-437.58 273.4,-391.47 258.74,-322.37 253.07,-280.61"/>
<polygon fill="black" stroke="black" points="256.53,-280.1 251.81,-270.61 249.59,-280.97 256.53,-280.1"/>
<text text-anchor="middle" x="430.61" y="-426.38" font-family="Times,serif" font-size="14.00">C: queryBlockHeader</text>
<text text-anchor="middle" x="430.61" y="-411.38" font-family="Times,serif" font-size="14.00"> Scrypt hash challenge is skipped</text>
<text text-anchor="middle" x="430.61" y="-396.38" font-family="Times,serif" font-size="14.00"> No remaining block headers</text>
</g>
<!-- VerifyScryptHash&#45;&gt;QueryBlockHeader -->
<g id="edge4" class="edge">
<title>VerifyScryptHash&#45;&gt;QueryBlockHeader</title>
<path fill="none" stroke="black" d="M620.98,-578.76C631.98,-583.67 642.24,-590.12 650.61,-598.58 664.37,-612.48 669.72,-634.15 671.71,-651.43"/>
<polygon fill="black" stroke="black" points="668.23,-651.84 672.56,-661.51 675.21,-651.25 668.23,-651.84"/>
<text text-anchor="middle" x="789.61" y="-632.38" font-family="Times,serif" font-size="14.00">C: queryBlockHeader</text>
<text text-anchor="middle" x="789.61" y="-617.38" font-family="Times,serif" font-size="14.00"> Scrypt hash challenge is skipped</text>
<text text-anchor="middle" x="789.61" y="-602.38" font-family="Times,serif" font-size="14.00"> Some block headers remain</text>
</g>
<!-- RequestScryptVerification -->
<g id="node8" class="node">
<title>RequestScryptVerification</title>
<polygon fill="none" stroke="black" points="689.11,-493.58 418.11,-493.58 418.11,-455.58 689.11,-455.58 689.11,-493.58"/>
<text text-anchor="middle" x="553.61" y="-478.38" font-family="Times,serif" font-size="14.00">The challenger asked verification of</text>
<text text-anchor="middle" x="553.61" y="-463.38" font-family="Times,serif" font-size="14.00"> the PoW scrypt hash of the header</text>
</g>
<!-- VerifyScryptHash&#45;&gt;RequestScryptVerification -->
<g id="edge8" class="edge">
<title>VerifyScryptHash&#45;&gt;RequestScryptVerification</title>
<path fill="none" stroke="black" d="M533.67,-544.17C537.06,-532.52 541.59,-516.92 545.48,-503.54"/>
<polygon fill="black" stroke="black" points="548.87,-504.42 548.3,-493.84 542.15,-502.47 548.87,-504.42"/>
<text text-anchor="middle" x="657.61" y="-515.38" font-family="Times,serif" font-size="14.00">C: requestScryptHashValidation</text>
</g>
<!-- Deleted -->
<g id="node11" class="node">
<title>Deleted</title>
<ellipse fill="none" stroke="black" cx="439.61" cy="-75.42" rx="71.34" ry="71.34"/>
<ellipse fill="none" stroke="black" cx="439.61" cy="-75.42" rx="75.34" ry="75.34"/>
<text text-anchor="middle" x="439.61" y="-79.22" font-family="Times,serif" font-size="14.00">Result</text>
<text text-anchor="middle" x="439.61" y="-64.22" font-family="Times,serif" font-size="14.00"> notification</text>
</g>
<!-- PendingVerification&#45;&gt;Deleted -->
<g id="edge14" class="edge">
<title>PendingVerification&#45;&gt;Deleted</title>
<path fill="none" stroke="black" d="M254.77,-216.84C258.88,-201.52 265.93,-182.49 277.61,-168.84 299.73,-142.96 331,-122.75 360.18,-107.92"/>
<polygon fill="black" stroke="black" points="361.73,-111.06 369.15,-103.49 358.63,-104.78 361.73,-111.06"/>
<text text-anchor="middle" x="438.61" y="-187.64" font-family="Times,serif" font-size="14.00">*: verifySuperblock</text>
<text text-anchor="middle" x="438.61" y="-172.64" font-family="Times,serif" font-size="14.00"> The challenger or the submitter is convicted</text>
</g>
<!-- QueryBlockHeader&#45;&gt;VerifyScryptHash -->
<g id="edge7" class="edge">
<title>QueryBlockHeader&#45;&gt;VerifyScryptHash</title>
<path fill="none" stroke="black" d="M527.52,-665.04C504.45,-660 485.55,-653.07 477.61,-643.58 464.78,-628.24 468.29,-616.27 477.61,-598.58 479.87,-594.29 482.91,-590.42 486.4,-586.97"/>
<polygon fill="black" stroke="black" points="488.72,-589.59 494.06,-580.44 484.18,-584.26 488.72,-589.59"/>
<text text-anchor="middle" x="562.11" y="-617.38" font-family="Times,serif" font-size="14.00">S: respondBlockHeader</text>
</g>
<!-- RespondBlockHeader -->
<g id="node7" class="node">
<title>RespondBlockHeader</title>
<ellipse fill="none" stroke="black" cx="927.61" cy="-243.71" rx="166.34" ry="26.74"/>
<text text-anchor="middle" x="927.61" y="-247.51" font-family="Times,serif" font-size="14.00">The submitter and challenger</text>
<text text-anchor="middle" x="927.61" y="-232.51" font-family="Times,serif" font-size="14.00"> fully verified the block header</text>
</g>
<!-- RespondBlockHeader&#45;&gt;QueryBlockHeader -->
<g id="edge6" class="edge">
<title>RespondBlockHeader&#45;&gt;QueryBlockHeader</title>
<path fill="none" stroke="black" d="M927.61,-270.9C927.61,-293.16 927.61,-325.96 927.61,-354.58 927.61,-563.58 927.61,-563.58 927.61,-563.58 927.61,-599.67 939.5,-618.43 913.61,-643.58 903.8,-653.1 883.57,-660.05 858.81,-665.11"/>
<polygon fill="black" stroke="black" points="857.9,-661.72 848.73,-667.03 859.2,-668.6 857.9,-661.72"/>
<text text-anchor="middle" x="1004.11" y="-478.38" font-family="Times,serif" font-size="14.00">C: queryBlockHeader</text>
<text text-anchor="middle" x="1004.11" y="-463.38" font-family="Times,serif" font-size="14.00"> </text>
</g>
<!-- PendingScryptVerification -->
<g id="node9" class="node">
<title>PendingScryptVerification</title>
<polygon fill="none" stroke="black" points="663.11,-374.58 448.11,-374.58 448.11,-336.58 663.11,-336.58 663.11,-374.58"/>
<text text-anchor="middle" x="555.61" y="-359.38" font-family="Times,serif" font-size="14.00">The scrypt hash verification</text>
<text text-anchor="middle" x="555.61" y="-344.38" font-family="Times,serif" font-size="14.00"> occurs in another contract</text>
</g>
<!-- RequestScryptVerification&#45;&gt;PendingScryptVerification -->
<g id="edge9" class="edge">
<title>RequestScryptVerification&#45;&gt;PendingScryptVerification</title>
<path fill="none" stroke="black" d="M553.92,-455.55C554.24,-436.71 554.75,-406.89 555.12,-384.9"/>
<polygon fill="black" stroke="black" points="558.63,-384.87 555.3,-374.81 551.63,-384.75 558.63,-384.87"/>
<text text-anchor="middle" x="626.61" y="-411.38" font-family="Times,serif" font-size="14.00">H: scryptSubmitted</text>
</g>
<!-- PendingScryptVerification&#45;&gt;PendingVerification -->
<g id="edge10" class="edge">
<title>PendingScryptVerification&#45;&gt;PendingVerification</title>
<path fill="none" stroke="black" d="M447.87,-345.09C415.7,-339.78 380.94,-331.5 350.61,-318.58 327.04,-308.54 303.75,-292.07 285.48,-277.23"/>
<polygon fill="black" stroke="black" points="287.39,-274.26 277.46,-270.55 282.91,-279.64 287.39,-274.26"/>
<text text-anchor="middle" x="453.61" y="-307.38" font-family="Times,serif" font-size="14.00">H: scryptVerified</text>
<text text-anchor="middle" x="453.61" y="-292.38" font-family="Times,serif" font-size="14.00"> No remaining block headers</text>
</g>
<!-- PendingScryptVerification&#45;&gt;RespondBlockHeader -->
<g id="edge11" class="edge">
<title>PendingScryptVerification&#45;&gt;RespondBlockHeader</title>
<path fill="none" stroke="black" d="M641.85,-336.5C655.67,-331.78 669.42,-325.89 681.61,-318.58 697.51,-309.04 694.34,-297.48 710.61,-288.58 726.82,-279.7 761.47,-271.3 798.41,-264.28"/>
<polygon fill="black" stroke="black" points="799.17,-267.7 808.36,-262.43 797.89,-260.82 799.17,-267.7"/>
<text text-anchor="middle" x="812.11" y="-307.38" font-family="Times,serif" font-size="14.00">H: scryptVerified</text>
<text text-anchor="middle" x="812.11" y="-292.38" font-family="Times,serif" font-size="14.00"> Some block headers remain</text>
</g>
<!-- SuperblockFailed -->
<g id="node10" class="node">
<title>SuperblockFailed</title>
<ellipse fill="none" stroke="black" cx="630.61" cy="-243.71" rx="113.27" ry="26.74"/>
<text text-anchor="middle" x="630.61" y="-247.51" font-family="Times,serif" font-size="14.00">The battle ends and</text>
<text text-anchor="middle" x="630.61" y="-232.51" font-family="Times,serif" font-size="14.00"> the submitter loses</text>
</g>
<!-- PendingScryptVerification&#45;&gt;SuperblockFailed -->
<g id="edge12" class="edge">
<title>PendingScryptVerification&#45;&gt;SuperblockFailed</title>
<path fill="none" stroke="black" d="M556.67,-336.44C558.24,-322.38 562.11,-302.93 571.61,-288.58 574.65,-283.99 578.34,-279.7 582.37,-275.74"/>
<polygon fill="black" stroke="black" points="584.81,-278.25 589.94,-268.98 580.15,-273.03 584.81,-278.25"/>
<text text-anchor="middle" x="626.61" y="-299.88" font-family="Times,serif" font-size="14.00">H: scryptFailed</text>
</g>
<!-- SuperblockFailed&#45;&gt;Deleted -->
<g id="edge13" class="edge">
<title>SuperblockFailed&#45;&gt;Deleted</title>
<path fill="none" stroke="black" d="M624.27,-216.85C619.49,-201.53 611.65,-182.51 599.61,-168.84 577.6,-143.86 547.15,-123.94 518.71,-109.09"/>
<polygon fill="black" stroke="black" points="520.06,-105.85 509.56,-104.45 516.9,-112.1 520.06,-105.85"/>
<text text-anchor="middle" x="714.61" y="-187.64" font-family="Times,serif" font-size="14.00">*: verifySuperblock</text>
<text text-anchor="middle" x="714.61" y="-172.64" font-family="Times,serif" font-size="14.00"> The submitter is convicted</text>
</g>
</g>
</svg>
